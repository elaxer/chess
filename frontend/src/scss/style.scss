@use "sass:map";
@import "bootstrap/scss/bootstrap";

$square-size: 5.5vw;
$square-move-marker-size: $square-size / 2.5;
$board-size: $square-size * 8;

$square-white-color: #f0d9b5;
$square-black-color: #b58863;

@mixin nonselectable() {
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
}

body {
    background-color: #262626;
}

#header {
    margin-bottom: 30px;
}

#board {
    @include nonselectable();
    padding: 0;
    width: $board-size;
    height: $board-size;
    box-sizing: border-box;
}

.square-row {
    float: left;
}

.square {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    width: $square-size;
    height: $square-size;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    &:has(.available-turn) {
        cursor: pointer;
    }
}
.piece {
    position: absolute;
    transition: transform 0.2s ease-in-out;
    z-index: 100;
    max-width: 100%;
    max-height: 100%;
    transform: scale(0.85);
    -webkit-user-drag: none;
    pointer-events: none;
    user-select: none;
    will-change: transform;
}

.white {
    background-color: $square-white-color;
}

.black {
    background-color: $square-black-color;
}

.square-active {
    background-color: rgba(238, 255, 0, 0.6);
}

.square-move-marker {
    position: fixed;
    z-index: 101;
    border-radius: 50%;
    background-color: black;
    opacity: 0.5;
    width: $square-move-marker-size;
    height: $square-move-marker-size;
}

.notation {
    @include nonselectable();
    position: absolute;
    font-size: 16px;
    font-family: 'Roboto', 'Verdana', sans-serif;
    cursor: default;
}

.vertical-notation {
    top: 1px;
    left: 3px;
}

.horizontal-notation {
    bottom: 2px;
    left: 5px;
}

.black > .vertical-notation, .black > .horizontal-notation {
    color: $square-white-color;
}

.white > .vertical-notation, .white > .horizontal-notation {
    color: $square-black-color;
}

.active > .vertical-notation, .active > .horizontal-notation {
    color: black;
}

.moves {
    background-color: #2c2c2c;
    min-height: $board-size;
    margin-top: 38px;
}

.move {
    margin: 3px;
}

@media (max-width: map.get($grid-breakpoints, "xl")) {
    $square-size: 9vw;
    $square-move-marker-size: $square-size / 2.5;
    $board-size: $square-size * 8;

    #board {
        width: $board-size;
        height: $board-size;
    }

    .square {
        width: $square-size;
        height: $square-size;
    }

    .square-move-marker {
        width: $square-move-marker-size;
        height: $square-move-marker-size;
    }
}
