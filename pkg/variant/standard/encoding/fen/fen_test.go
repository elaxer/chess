package fen

import (
	"testing"

	"github.com/elaxer/chess/pkg/chess"
	"github.com/elaxer/chess/pkg/variant/standard/standardtest"
)

func TestEncoder_Encode(t *testing.T) {
	encoder := NewEncoder()

	type args struct {
		board chess.Board
	}
	tests := []struct {
		name string
		args args
		want string
	}{
		{
			"e4_d5_Nf3_Kd7",
			args{standardtest.MustNewFromMoves([]string{"e4", "d5", "Nf3", "Kd7"})},
			"rnbq1bnr/pppkpppp/8/3p4/4P3/5N2/PPPP1PPP/RNBQKB1R w KQ - 2 3",
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := encoder.Encode(tt.args.board); got != tt.want {
				t.Errorf("Encoder.Encode() = \n%v want\n%v", got, tt.want)
			}
		})
	}
}
